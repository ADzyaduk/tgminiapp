# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Amvera Cloud

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

**–í—Å–µ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ (—Ç–æ–∫–µ–Ω—ã, –ø–∞—Ä–æ–ª–∏, –∫–ª—é—á–∏ API) –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Amvera, –∞ –ù–ï –≤ —Ñ–∞–π–ª–µ `amvera.yaml`!**

–§–∞–π–ª `amvera.yaml` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏ –∏ –∑–∞–ø—É—Å–∫–∞, –∞ —Å–µ–∫—Ä–µ—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ Amvera.

---

## –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

1. –í–æ–π–¥–∏—Ç–µ –≤ [Amvera Cloud](https://amvera.ru)
2. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **¬´–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è¬ª** –∏–ª–∏ **¬´Environment Variables¬ª**

### –®–∞–≥ 2: –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **¬´–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é¬ª** –∏–ª–∏ **¬´Add Variable¬ª** –∏ –¥–æ–±–∞–≤—å—Ç–µ –∫–∞–∂–¥—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏.

---

## –°–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### 1. Supabase –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

```
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_supabase_anon_key
SUPABASE_SERVICE_KEY=your_supabase_service_role_key
```

**–ì–¥–µ –≤–∑—è—Ç—å:**
- –ó–∞–π–¥–∏—Ç–µ –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç –Ω–∞ [supabase.com](https://supabase.com)
- Settings ‚Üí API
- `SUPABASE_URL` - Project URL
- `SUPABASE_KEY` - anon/public key
- `SUPABASE_SERVICE_KEY` - service_role key (‚ö†Ô∏è —Å–µ–∫—Ä–µ—Ç–Ω—ã–π!)

### 2. JWT —Å–µ–∫—Ä–µ—Ç—ã (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

```
JWT_SECRET=your-jwt-secret-here
JWT_REFRESH_SECRET=your-refresh-secret-key-here
```

**–ì–¥–µ –≤–∑—è—Ç—å:**
- –í Supabase: Settings ‚Üí API ‚Üí JWT Settings
- `JWT_SECRET` - JWT Secret
- `JWT_REFRESH_SECRET` - –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ JWT_SECRET –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π

### 3. Telegram Bot –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

```
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_WEBAPP_URL=https://your-app.amvera.app
TELEGRAM_ADMIN_CHAT_ID=your_admin_chat_id
```

**–ì–¥–µ –≤–∑—è—Ç—å:**
- `TELEGRAM_BOT_TOKEN` - –ø–æ–ª—É—á–∏—Ç–µ —É [@BotFather](https://t.me/BotFather) –≤ Telegram
- `TELEGRAM_WEBAPP_URL` - —Å–Ω–∞—á–∞–ª–∞ —É–∫–∞–∂–∏—Ç–µ `https://your-app.amvera.app` (–∑–∞–º–µ–Ω–∏—Ç–µ `your-app` –Ω–∞ –∏–º—è –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ Amvera)
- `TELEGRAM_ADMIN_CHAT_ID` - –≤–∞—à Telegram ID (–º–æ–∂–Ω–æ —É–∑–Ω–∞—Ç—å —É [@userinfobot](https://t.me/userinfobot))

### 4. –û–±—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

```
NODE_ENV=production
DISABLE_REALTIME=false
```

---

## –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ —ç—Ç–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ –ø–∞–Ω–µ–ª–∏ Amvera:

```
# Supabase
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your_supabase_anon_key
SUPABASE_SERVICE_KEY=your_supabase_service_role_key

# JWT
JWT_SECRET=your-jwt-secret-here
JWT_REFRESH_SECRET=your-refresh-secret-key-here

# Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here
TELEGRAM_WEBAPP_URL=https://your-app.amvera.app
TELEGRAM_ADMIN_CHAT_ID=your_admin_chat_id

# –û–±—â–∏–µ
NODE_ENV=production
DISABLE_REALTIME=false
```

---

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –ü–æ–ª—É—á–∏—Ç–µ –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–ª—é—á–∏

**Supabase:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ [supabase.com](https://supabase.com) ‚Üí –≤–∞—à –ø—Ä–æ–µ–∫—Ç
2. Settings ‚Üí API
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ:
   - Project URL ‚Üí `SUPABASE_URL`
   - anon public key ‚Üí `SUPABASE_KEY`
   - service_role key ‚Üí `SUPABASE_SERVICE_KEY` ‚ö†Ô∏è

**JWT —Å–µ–∫—Ä–µ—Ç—ã:**
1. –í —Ç–æ–º –∂–µ —Ä–∞–∑–¥–µ–ª–µ Settings ‚Üí API
2. –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –¥–æ JWT Settings
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ JWT Secret ‚Üí `JWT_SECRET`
4. –î–ª—è `JWT_REFRESH_SECRET` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ—Ç –∂–µ JWT_SECRET

**Telegram:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/newbot` –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω ‚Üí `TELEGRAM_BOT_TOKEN`
4. –£–∑–Ω–∞–π—Ç–µ –≤–∞—à ID —É [@userinfobot](https://t.me/userinfobot) ‚Üí `TELEGRAM_ADMIN_CHAT_ID`
5. `TELEGRAM_WEBAPP_URL` - —Å–Ω–∞—á–∞–ª–∞ —É–∫–∞–∂–∏—Ç–µ `https://your-app.amvera.app` (–∑–∞–º–µ–Ω–∏—Ç–µ `your-app`)

### 2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Amvera

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Amvera
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **¬´–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è¬ª**
3. –î–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π:
   - –ù–∞–∂–º–∏—Ç–µ **¬´–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é¬ª**
   - –í–≤–µ–¥–∏—Ç–µ **–ò–º—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `SUPABASE_URL`)
   - –í–≤–µ–¥–∏—Ç–µ **–ó–Ω–∞—á–µ–Ω–∏–µ** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://your-project.supabase.co`)
   - –ù–∞–∂–º–∏—Ç–µ **¬´–°–æ—Ö—Ä–∞–Ω–∏—Ç—å¬ª**

### 3. –û–±–Ω–æ–≤–∏—Ç–µ TELEGRAM_WEBAPP_URL –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è:
1. –£–∑–Ω–∞–π—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–π URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://my-app.amvera.app`)
2. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `TELEGRAM_WEBAPP_URL` –≤ –ø–∞–Ω–µ–ª–∏ Amvera
3. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è

---

## –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### ‚ö†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **–ù–ï –¥–æ–±–∞–≤–ª—è–π—Ç–µ** —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª—é—á–∏ –≤ —Ñ–∞–π–ª `amvera.yaml`
- **–ù–ï –∫–æ–º–º–∏—Ç—å—Ç–µ** `.env` —Ñ–∞–π–ª –≤ Git
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è Amvera –¥–ª—è —Å–µ–∫—Ä–µ—Ç–æ–≤

### üîÑ –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø—è—Ç –≤ —Å–∏–ª—É —Å—Ä–∞–∑—É

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã (–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–ø–∏—Å–æ–∫)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –æ–ø–µ—á–∞—Ç–æ–∫ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –Ω–∞—á–∞–ª–µ/–∫–æ–Ω—Ü–µ)

---

## –ü—Ä–∏–º–µ—Ä –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è

–í–æ—Ç –∫–∞–∫ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –≤ –ø–∞–Ω–µ–ª–∏ Amvera:

```
–ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π: SUPABASE_URL
–ó–Ω–∞—á–µ–Ω–∏–µ: https://abcdefghijklmnop.supabase.co
[–°–æ—Ö—Ä–∞–Ω–∏—Ç—å]

–ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π: SUPABASE_KEY
–ó–Ω–∞—á–µ–Ω–∏–µ: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
[–°–æ—Ö—Ä–∞–Ω–∏—Ç—å]

–ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π: TELEGRAM_BOT_TOKEN
–ó–Ω–∞—á–µ–Ω–∏–µ: 1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
[–°–æ—Ö—Ä–∞–Ω–∏—Ç—å]

... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```

---

## Troubleshooting

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ä–∞–∑–¥–µ–ª–µ (–Ω–µ –≤ `amvera.yaml`)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –Ω–µ—Ç –æ–ø–µ—á–∞—Ç–æ–∫ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
3. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥ - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è

### –û—à–∏–±–∫–∞ "Missing SUPABASE_SERVICE_KEY"

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `SUPABASE_SERVICE_KEY` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞. –î–æ–±–∞–≤—å—Ç–µ –µ—ë –≤ –ø–∞–Ω–µ–ª–∏ Amvera.

### –û—à–∏–±–∫–∞ "Telegram WebApp URL not set"

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TELEGRAM_WEBAPP_URL` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Amvera - –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è](https://docs.amvera.ru/)
- [Supabase Dashboard](https://supabase.com/dashboard)
- [Telegram BotFather](https://t.me/BotFather)

